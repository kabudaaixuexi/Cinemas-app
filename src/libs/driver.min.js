!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Driver=e():t.Driver=e()}(window,(function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=0)}([function(t,e,i){i(1),t.exports=i(2)},function(t,e){},function(t,e,i){"use strict";i.r(e),i.d(e,"default",(function(){return w}));const o="driver-highlighted-element-stage",s="driver-popover-item",n='<div id="'.concat("driver-page-overlay",'"></div>'),h='<div id="'.concat(o,'"></div>'),r=t=>{const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},l=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i){const i=["","-webkit-","-ms-","moz-","-o-"];for(let o=0;o<i.length;o++){const s=i[o]+e,n=l(t,s);if(n)return n}return""}let o="";return t.currentStyle?o=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(o=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),o&&o.toLowerCase?o.toLowerCase():o},d=function(t){return t&&"object"==typeof t&&"nodeType"in t};class a{constructor(t,e,i){this.options=t,this.highlightedElement=null,this.lastHighlightedElement=null,this.hideTimer=null,this.window=e,this.document=i,this.removeNode=this.removeNode.bind(this)}attachNode(){let t=this.document.getElementById("driver-page-overlay");t||(t=r(n),document.body.appendChild(t)),this.node=t,this.node.style.opacity="0",this.options.animate||this.node.parentElement&&this.node.parentElement.removeChild(this.node)}highlight(t){if(!t||!t.node)return void console.warn("Invalid element to highlight. Must be an instance of `Element`");if(t.isSame(this.highlightedElement))return;this.window.clearTimeout(this.hideTimer),t.onHighlightStarted(),this.highlightedElement&&!this.highlightedElement.isSame(this.lastHighlightedElement)&&this.highlightedElement.onDeselected(),t.getCalculatedPosition().canHighlight()&&(this.lastHighlightedElement=this.highlightedElement,this.highlightedElement=t,this.show(),this.highlightedElement.onHighlighted())}show(){this.node&&this.node.parentElement||(this.attachNode(),window.setTimeout(()=>{this.node.style.opacity="".concat(this.options.opacity),this.node.style.position="fixed",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="0",this.node.style.right="0"}))}getHighlightedElement(){return this.highlightedElement}getLastHighlightedElement(){return this.lastHighlightedElement}clear(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.options.onReset&&this.options.onReset(this.highlightedElement),this.highlightedElement){const t=!0;this.highlightedElement.onDeselected(t)}this.highlightedElement=null,this.lastHighlightedElement=null,this.node&&(this.window.clearTimeout(this.hideTimer),this.options.animate&&!t?(this.node.style.opacity="0",this.hideTimer=this.window.setTimeout(this.removeNode,300)):this.removeNode())}removeNode(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}refresh(){this.highlightedElement&&(this.highlightedElement.showPopover(),this.highlightedElement.showStage())}}class c{constructor(){let{left:t=0,top:e=0,right:i=0,bottom:o=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.left=t,this.right=i,this.top=e,this.bottom=o}canHighlight(){return this.left<this.right&&this.top<this.bottom}}class p{constructor(){let{node:t,options:e,popover:i,stage:o,overlay:s,window:n,document:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.node=t,this.document=h,this.window=n,this.options=e,this.overlay=s,this.popover=i,this.stage=o,this.animationTimeout=null}isInView(){let t=this.node.offsetTop,e=this.node.offsetLeft;const i=this.node.offsetWidth,o=this.node.offsetHeight;let s=this.node;for(;s.offsetParent;)s=s.offsetParent,t+=s.offsetTop,e+=s.offsetLeft;return t>=this.window.pageYOffset&&e>=this.window.pageXOffset&&t+o<=this.window.pageYOffset+this.window.innerHeight&&e+i<=this.window.pageXOffset+this.window.innerWidth}scrollManually(){const t=this.node.getBoundingClientRect().top+this.window.pageYOffset-this.window.innerHeight/2;this.window.scrollTo(0,t)}bringInView(){if(this.node&&!this.isInView())if(this.node.scrollIntoView)try{this.node.scrollIntoView(this.options.scrollIntoViewOptions||{behavior:"instant",block:"center"})}catch(t){this.scrollManually()}else this.scrollManually()}getCalculatedPosition(){const t=this.document.body,e=this.document.documentElement,i=this.window,o=this.window.pageYOffset||e.scrollTop||t.scrollTop,s=i.pageXOffset||e.scrollLeft||t.scrollLeft,n=this.node.getBoundingClientRect();return new c({top:n.top+o,left:n.left+s,right:n.left+s+n.width,bottom:n.top+o+n.height})}getPopover(){return this.popover}onDeselected(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hidePopover(),t&&this.hideStage(),this.removeHighlightClasses(),this.window.clearTimeout(this.animationTimeout),this.options.onDeselected&&this.options.onDeselected(this)}isSame(t){return!(!t||!t.node)&&t.node===this.node}onHighlightStarted(){this.options.onHighlightStarted&&this.options.onHighlightStarted(this)}onHighlighted(){const t=this;t.isInView()||t.bringInView(),this.showPopover(),this.showStage(),this.addHighlightClasses(),this.options.onHighlighted&&this.options.onHighlighted(this)}removeHighlightClasses(){this.node.classList.remove("driver-highlighted-element"),this.node.classList.remove("driver-position-relative");const t=this.document.querySelectorAll(".".concat("driver-fix-stacking"));for(let e=0;e<t.length;e++)t[e].classList.remove("driver-fix-stacking")}addHighlightClasses(){this.node.classList.add("driver-highlighted-element"),this.canMakeRelative()&&this.node.classList.add("driver-position-relative"),this.fixStackingContext()}fixStackingContext(){let t=this.node.parentNode;for(;t&&t.tagName&&"body"!==t.tagName.toLowerCase();){const e=l(t,"z-index"),i=parseFloat(l(t,"opacity")),o=l(t,"transform",!0),s=l(t,"transform-style",!0),n=l(t,"transform-box",!0),h=l(t,"filter",!0),r=l(t,"perspective",!0);(/[0-9]+/.test(e)||i<1||o&&"none"!==o||s&&"flat"!==s||n&&"border-box"!==n||h&&"none"!==h||r&&"none"!==r)&&t.classList.add("driver-fix-stacking"),t=t.parentNode}}canMakeRelative(){const t=this.getStyleProperty("position");return-1===["absolute","fixed","relative"].indexOf(t)}getStyleProperty(t){return l(this.node,t)}showStage(){this.stage.show(this.getCalculatedPosition())}getNode(){return this.node}hideStage(){this.stage.hide()}hidePopover(){this.popover&&this.popover.hide()}showPopover(){if(!this.popover)return;const t=this.getCalculatedPosition();let e=300;this.options.animate&&this.overlay.lastHighlightedElement||(e=0),this.animationTimeout=this.window.setTimeout(()=>{this.popover.show(t)},e)}getFullPageSize(){const t=this.document.body,e=this.document.documentElement;return{height:Math.max(t.scrollHeight,t.offsetHeight,e.scrollHeight,e.offsetHeight),width:Math.max(t.scrollWidth,t.offsetWidth,e.scrollWidth,e.offsetWidth)}}getSize(){return{height:Math.max(this.node.scrollHeight,this.node.offsetHeight),width:Math.max(this.node.scrollWidth,this.node.offsetWidth)}}}function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class f extends p{constructor(t,e,i){super(),this.options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({isFirst:!0,isLast:!0,totalCount:1,currentIndex:0,offset:0,showButtons:!0,closeBtnText:"Close",doneBtnText:"Done",startBtnText:"Next &rarr;",nextBtnText:"Next &rarr;",prevBtnText:"&larr; Previous"},t),this.window=e,this.document=i}attachNode(){let t=this.document.getElementById(s);t&&t.parentElement.removeChild(t),t=r(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'\n  <div id="'.concat(s,'" class="').concat(t,'">\n    <div class="').concat("driver-popover-tip",'"></div>\n    <div class="').concat("driver-popover-title",'">Popover Title</div>\n    <div class="').concat("driver-popover-description",'">Popover Description</div>\n    <div class="driver-clearfix ').concat("driver-popover-footer",'">\n      <button class="').concat("driver-close-btn",'">Close</button>\n      <span class="driver-btn-group ').concat("driver-navigation-btns",'">\n        <button class="').concat("driver-prev-btn",'">&larr; Previous</button>\n        <button class="').concat("driver-next-btn",'">Next &rarr;</button>\n      </span>\n    </div>\n  </div>')}(this.options.className)),document.body.appendChild(t),this.node=t,this.tipNode=t.querySelector(".".concat("driver-popover-tip")),this.titleNode=t.querySelector(".".concat("driver-popover-title")),this.descriptionNode=t.querySelector(".".concat("driver-popover-description")),this.footerNode=t.querySelector(".".concat("driver-popover-footer")),this.nextBtnNode=t.querySelector(".".concat("driver-next-btn")),this.prevBtnNode=t.querySelector(".".concat("driver-prev-btn")),this.closeBtnNode=t.querySelector(".".concat("driver-close-btn"))}getTitleNode(){return this.titleNode}getDescriptionNode(){return this.descriptionNode}hide(){this.node&&(this.node.style.display="none")}setInitialState(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right="",this.node.querySelector(".".concat("driver-popover-tip")).className="driver-popover-tip"}show(t){switch(this.attachNode(),this.setInitialState(),this.titleNode.innerHTML=this.options.title,this.descriptionNode.innerHTML=this.options.description||"",this.renderFooter(),this.options.position){case"left":case"left-top":this.positionOnLeft(t);break;case"left-center":this.positionOnLeftCenter(t);break;case"left-bottom":this.positionOnLeftBottom(t);break;case"right":case"right-top":this.positionOnRight(t);break;case"right-center":this.positionOnRightCenter(t);break;case"right-bottom":this.positionOnRightBottom(t);break;case"top":case"top-left":this.positionOnTop(t);break;case"top-center":this.positionOnTopCenter(t);break;case"top-right":this.positionOnTopRight(t);break;case"bottom":case"bottom-left":this.positionOnBottom(t);break;case"bottom-center":this.positionOnBottomCenter(t);break;case"bottom-right":this.positionOnBottomRight(t);break;case"mid-center":this.positionOnMidCenter(t);break;case"auto":default:this.autoPosition(t)}this.bringInView()}renderFooter(){this.nextBtnNode.innerHTML=this.options.nextBtnText,this.prevBtnNode.innerHTML=this.options.prevBtnText,this.closeBtnNode.innerHTML=this.options.closeBtnText;const t=this.options.totalCount&&1!==this.options.totalCount;this.options.showButtons?(t?(this.nextBtnNode.style.display="inline-block",this.prevBtnNode.style.display="inline-block",this.closeBtnNode.classList.remove("driver-close-only-btn")):(this.nextBtnNode.style.display="none",this.prevBtnNode.style.display="none",this.closeBtnNode.classList.add("driver-close-only-btn")),this.footerNode.style.display="block",this.options.isFirst?(this.prevBtnNode.classList.add("driver-disabled"),this.nextBtnNode.innerHTML=this.options.startBtnText):this.prevBtnNode.classList.remove("driver-disabled"),this.options.isLast?this.nextBtnNode.innerHTML=this.options.doneBtnText:this.nextBtnNode.innerHTML=this.options.nextBtnText):this.footerNode.style.display="none"}positionOnLeft(t){const e=this.getSize().width,i=this.options.padding+10;this.node.style.left="".concat(t.left-e-i,"px"),this.node.style.top="".concat(t.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right")}positionOnLeftBottom(t){const e=this.getSize(),i=e.width,o=this.options.padding+10;this.node.style.left="".concat(t.left-i-o,"px"),this.node.style.top="".concat(t.bottom+this.options.padding+this.options.offset-e.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("right","position-bottom")}positionOnLeftCenter(t){const e=this.getSize(),i=e.width,o=e.height/2,s=this.options.padding+10,n=(t.bottom-t.top)/2,h=t.top-o+n+this.options.offset;this.node.style.left="".concat(t.left-i-s,"px"),this.node.style.top="".concat(h,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right","position-center")}positionOnRight(t){const e=this.options.padding+10;this.node.style.left="".concat(t.right+e,"px"),this.node.style.top="".concat(t.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left")}positionOnRightCenter(t){const e=this.getSize(),i=this.options.padding+10,o=e.height/2,s=(t.bottom-t.top)/2,n=t.top-o+s+this.options.offset;this.node.style.left="".concat(t.right+i,"px"),this.node.style.top="".concat(n,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left","position-center")}positionOnRightBottom(t){const e=this.options.padding+10,i=this.getSize();this.node.style.left="".concat(t.right+e,"px"),this.node.style.top="".concat(t.bottom+this.options.padding+this.options.offset-i.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("left","position-bottom")}positionOnTop(t){const e=this.getSize().height,i=this.options.padding+10;this.node.style.top="".concat(t.top-e-i,"px"),this.node.style.left="".concat(t.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom")}positionOnTopCenter(t){const e=this.getSize(),i=e.height,o=e.width/2,s=this.options.padding+10,n=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(t.top-i-s,"px"),this.node.style.left="".concat(n-o-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-center")}positionOnTopRight(t){const e=this.getSize(),i=e.height,o=this.options.padding+10;this.node.style.top="".concat(t.top-i-o,"px"),this.node.style.left="".concat(t.right+this.options.padding+this.options.offset-e.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-right")}positionOnBottom(t){const e=this.options.padding+10;this.node.style.top="".concat(t.bottom+e,"px"),this.node.style.left="".concat(t.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top")}positionOnBottomCenter(t){const e=this.getSize().width/2,i=this.options.padding+10,o=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(t.bottom+i,"px"),this.node.style.left="".concat(o-e-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-center")}positionOnBottomRight(t){const e=this.getSize(),i=this.options.padding+10;this.node.style.top="".concat(t.bottom+i,"px"),this.node.style.left="".concat(t.right+this.options.padding+this.options.offset-e.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-right")}positionOnMidCenter(t){const e=this.getSize(),i=e.height,o=e.width/2,s=i/2,n=(t.bottom-t.top)/2,h=t.top-s+n+this.options.offset,r=this.options.offset+t.left+(t.right-t.left)/2;this.node.style.top="".concat(h,"px"),this.node.style.left="".concat(r-o-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("mid-center")}autoPosition(t){const e=this.getFullPageSize(),i=this.getSize(),o=e.height,s=i.height,n=this.options.padding+10;t.bottom+s+n>=o?this.positionOnTop(t):this.positionOnBottom(t)}}class m extends p{constructor(t,e,i){super(),this.options=t,this.window=e,this.document=i}attachNode(){let t=this.document.getElementById(o);t||(t=r(h),document.body.appendChild(t)),this.node=t,this.options.animate?this.node.classList.remove("driver-stage-no-animation"):this.node.classList.add("driver-stage-no-animation")}hide(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}setInitialStyle(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right=""}show(t){this.attachNode(),this.setInitialStyle();const e=2*this.options.padding,i=t.right-t.left+e,o=t.bottom-t.top+e;this.node.style.display="block",this.node.style.position="absolute",this.node.style.width="".concat(i,"px"),this.node.style.height="".concat(o,"px"),this.node.style.top="".concat(t.top-e/2,"px"),this.node.style.left="".concat(t.left-e/2,"px"),this.node.style.backgroundColor=this.options.stageBackground}}function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){b(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=y({animate:!0,opacity:.75,padding:10,scrollIntoViewOptions:null,allowClose:!0,keyboardControl:!0,overlayClickNext:!1,stageBackground:"#ffffff",onHighlightStarted:()=>null,onHighlighted:()=>null,onDeselected:()=>null,onReset:()=>null,onNext:()=>null,onPrevious:()=>null},t),this.document=document,this.window=window,this.isActivated=!1,this.steps=[],this.currentStep=0,this.currentMovePrevented=!1,this.overlay=new a(this.options,window,document),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onClick=this.onClick.bind(this),this.moveNext=this.moveNext.bind(this),this.movePrevious=this.movePrevious.bind(this),this.preventMove=this.preventMove.bind(this),this.bind()}getSteps(){return this.steps}setSteps(t){this.steps=t}bind(){this.window.addEventListener("resize",this.onResize,!1),this.window.addEventListener("keyup",this.onKeyUp,!1),"ontouchstart"in document.documentElement?this.window.addEventListener("touchstart",this.onClick,!1):this.window.addEventListener("click",this.onClick,!1)}onClick(t){if(!this.isActivated||!this.hasHighlightedElement())return;t.stopPropagation();const e=this.overlay.getHighlightedElement(),i=this.document.getElementById(s),o=e.node.contains(t.target),n=i&&i.contains(t.target);if(!o&&!n&&this.options.overlayClickNext)return void this.handleNext();if(!o&&!n&&this.options.allowClose)return void this.reset();const h=t.target.classList.contains("driver-next-btn"),r=t.target.classList.contains("driver-prev-btn");t.target.classList.contains("driver-close-btn")?this.reset():h?this.handleNext():r&&this.handlePrevious()}onResize(){this.isActivated&&this.refresh()}refresh(){this.overlay.refresh()}onKeyUp(t){if(!this.isActivated||!this.options.keyboardControl)return;if(27===t.keyCode&&this.options.allowClose)return void this.reset();const e=this.getHighlightedElement();e&&e.popover&&(39===t.keyCode?this.handleNext():37===t.keyCode&&this.handlePrevious())}movePrevious(){const t=this.steps[this.currentStep-1];t?(this.overlay.highlight(t),this.currentStep-=1):this.reset()}preventMove(){this.currentMovePrevented=!0}handleNext(){this.currentMovePrevented=!1;const t=this.steps[this.currentStep];t&&t.options&&t.options.onNext&&t.options.onNext(this.overlay.highlightedElement),this.currentMovePrevented||this.moveNext()}handlePrevious(){this.currentMovePrevented=!1;const t=this.steps[this.currentStep];t&&t.options&&t.options.onPrevious&&t.options.onPrevious(this.overlay.highlightedElement),this.currentMovePrevented||this.movePrevious()}moveNext(){const t=this.steps[this.currentStep+1];t?(this.overlay.highlight(t),this.currentStep+=1):this.reset()}hasNextStep(){return!!this.steps[this.currentStep+1]}hasPreviousStep(){return!!this.steps[this.currentStep-1]}reset(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentStep=0,this.isActivated=!1,this.overlay.clear(t)}hasHighlightedElement(){const t=this.overlay.getHighlightedElement();return t&&t.node}getHighlightedElement(){return this.overlay.getHighlightedElement()}getLastHighlightedElement(){return this.overlay.getLastHighlightedElement()}defineSteps(t){this.steps=[];for(let e=0;e<t.length;e++){const i=this.prepareElementFromStep(t[e],t,e);i&&this.steps.push(i)}}prepareElementFromStep(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=y({},this.options),s=t;const n="string"!=typeof t&&!d(t);if(!t||n&&!t.element)throw new Error("Element is required in step ".concat(i));n&&(s=t.element,o=y({},this.options,{},t));const h=d(s)?s:this.document.querySelector(s);if(!h)return console.warn("Element to highlight ".concat(s," not found")),null;let r=null;if(o.popover&&o.popover.title){const t=[this.options.className,o.popover.className];0!==e.length&&i!==e.length-1||t.push("last-driver-popove");const s=t.filter(t=>t).join(" "),n=y({},o,{},o.popover,{className:s,totalCount:e.length,currentIndex:i,closeBtnText:"跳过(".concat(i+1,"/").concat(e.length,")"),isFirst:0===i,isLast:0===e.length||i===e.length-1});r=new f(n,this.window,this.document)}const l=y({},o),a=new m(l,this.window,this.document);return new p({node:h,options:o,popover:r,stage:a,overlay:this.overlay,window:this.window,document:this.document})}start(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.steps||0===this.steps.length)throw new Error("There are no steps defined to iterate");this.isActivated=!0,this.currentStep=t,this.overlay.highlight(this.steps[t])}highlight(t){this.isActivated=!0;const e=this.prepareElementFromStep(t);e&&this.overlay.highlight(e)}}}]).default}));
//# sourceMappingURL=driver.min.js.map